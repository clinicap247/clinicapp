import{a as T}from"./chunk-GBAG5VX4.js";import{a as Z,b as ee,d as B,i as O,m as b,n as q}from"./chunk-KRGPEBT2.js";import{$ as J,Aa as U,Ca as K,Da as D,Ea as w,G as H,H as Q,Ia as $,Ja as E,Ka as L,L as C,Ma as g,Na as I,O as m,Oa as k,Pa as X,Qa as c,V as W,W as P,X as G,Xa as F,a as V,b as A,bb as S,cb as _,d as M,db as j,fb as p,ga as a,h as R,pa as u,qa as l,wa as d,xa as s,ya as h,yb as Y,za as z}from"./chunk-O4DO2U6N.js";var ge=(()=>{class i{constructor(){this.validators=[]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=m({type:i,selectors:[["app-input-text"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[c],decls:1,vars:2,consts:[["type","text",3,"formControl","placeholder"]],template:function(t,n){t&1&&h(0,"input",0),t&2&&l("formControl",n.formControl)("placeholder",n.data.placeholder)},dependencies:[p,b,ee,B,q,O],encapsulation:2})}}return i})();function ae(i,r){}var te=(()=>{class i{constructor(){this.titleField=null,this.cdr=C(F)}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){let e=this.dcWrapper.viewContainerRef;e.clear();let t=e.createComponent(this.dynamicField.component);t.instance.formControl=this.dynamicField.fieldFormControl,t.instance.data=this.dynamicField.data,this.titleField=this.dynamicField.data.title,this.cdr.detectChanges()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=m({type:i,selectors:[["app-field-template"]],viewQuery:function(t,n){if(t&1&&$(T,5),t&2){let o;E(o=L())&&(n.dcWrapper=o.first)}},inputs:{fieldListener:"fieldListener",dynamicField:"dynamicField"},standalone:!0,features:[c],decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","gap-1","p-2"],[1,"text-sm","font-semibold","text-muted-foreground","text-start"],["dcWrapper","","id","item"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"label",1),g(2),s(),u(3,ae,0,0,"ng-template",2),s()),t&2&&(a(2),I(n.titleField||"Titulo"))},dependencies:[p,T],encapsulation:2})}}return i})();function le(i,r){if(i&1&&h(0,"app-field-template",4),i&2){let e=r.$implicit;l("dynamicField",e)}}var De=(()=>{class i{constructor(){this.fields=[],this.cdr=C(F)}ngOnInit(){}renderForm(){this.cdr.detectChanges()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=m({type:i,selectors:[["app-form-template"]],inputs:{fields:"fields",step:"step",formListener:"formListener",data:"data"},standalone:!0,features:[c],decls:5,vars:2,consts:[[1,"flex","w-full","flex-col","gap-2","bg-background","p-3"],[1,"text-sm","font-semibold","text-foreground","text-start"],[1,"flex","gap-2","flex-col","w-full"],["class","w-full",3,"dynamicField",4,"ngFor","ngForOf"],[1,"w-full",3,"dynamicField"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"label",1),g(2),s(),d(3,"div",2),u(4,le,1,1,"app-field-template",3),s()()),t&2&&(a(2),I(n.data.description||""),a(2),l("ngForOf",n.fields))},dependencies:[p,_,te],encapsulation:2})}}return i})();function de(i,r){i&1&&(G(),d(0,"svg",9),h(1,"path",10),s())}function me(i,r){if(i&1&&(d(0,"li",6)(1,"span",7),g(2),s(),g(3),u(4,de,2,0,"svg",8),s()),i&2){let e=r.$implicit,t=r.index,n=w();l("ngClass",t==n.actualFormIndex?" text-primary ":t<n.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),a(),l("classList",t<=n.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),a(),k(" ",t+1," "),a(),k(" ",e.data.title," "),a(),l("ngIf",t+1<=n.forms.length-1)}}function ce(i,r){}var Ne=(()=>{class i{constructor(){this.onCreateModal=new J,this.actualFormIndex=0,this.forms=[],this.cdr=C(F)}ngOnInit(){}ngAfterViewInit(){let e=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(e),this.cdr.detectChanges()}loadComponent(e){let t=this.forms[e],n=this.dcWrapper.viewContainerRef;n.clear();let o=n.createComponent(t.component);o.instance.step=e,o.instance.fields=t.dynamicFields,o.instance.data=t.data,o.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=m({type:i,selectors:[["app-modal-form"]],viewQuery:function(t,n){if(t&1&&$(T,5),t&2){let o;E(o=L())&&(n.dcWrapper=o.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[c],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"div",1)(2,"ol",2),u(3,me,5,5,"li",3),s()(),d(4,"div",4),u(5,ce,0,0,"ng-template",5),s()()),t&2&&(a(3),l("ngForOf",n.forms))},dependencies:[p,S,_,j,T],encapsulation:2,changeDetection:0})}}return i})();function Ae(i){let r;return i.form.forEach(t=>{t.dynamicFields.forEach(o=>{r=A(V({},r),{[o.data.id??o.data.title]:o.fieldFormControl.value})})}),r}var ie=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=m({type:i,selectors:[["app-item-list"]],inputs:{id:"id",name:"name"},standalone:!0,features:[c],decls:3,vars:1,consts:[[1,"flex","flex-col","items-start","p-2","rounded-md","hover:bg-muted","hover:cursor-pointer"],[1,"text-sm","text-foreground"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"span",1),g(2),s()()),t&2&&(a(2),k(" ",n.name," "))},dependencies:[p],encapsulation:2})}}return i})();function pe(i,r){if(i&1){let e=K();d(0,"app-item-list",2),D("click",function(){let n=W(e).$implicit,o=w();return P(o.onSelect(n))}),s()}if(i&2){let e=r.$implicit;l("name",e.name)("id",e.id)}}var ne=(()=>{class i{constructor(){this.isHidden=!1,this.items=[],this.filteredItems=[]}ngOnInit(){this.filteredItems=this.items,this.filterListener?.subscribe({next:e=>{this.filterItems(e)}})}filterItems(e){this.filteredItems=this.items.filter(t=>t.name.toLowerCase().startsWith(e.toLowerCase()))}onSelect(e){this.onSelectItem(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=m({type:i,selectors:[["app-listview"]],inputs:{isHidden:"isHidden",onSelectItem:"onSelectItem",items:"items",filterListener:"filterListener"},standalone:!0,features:[c],decls:2,vars:2,consts:[[3,"ngClass"],[3,"name","id","click",4,"ngFor","ngForOf"],[3,"click","name","id"]],template:function(t,n){t&1&&(d(0,"div",0),u(1,pe,1,2,"app-item-list",1),s()),t&2&&(l("ngClass",n.isHidden?" hidden":" mt-2 relative z-10 bg-background shadow-lg rounded-md w-full border border-muted max-h-32 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted"),a(),l("ngForOf",n.filteredItems))},dependencies:[p,S,_,ie],encapsulation:2})}}return i})();function ue(i,r){if(i&1&&(z(0),d(1,"div",5),h(2,"app-listview",6),s(),U()),i&2){let e=w();a(2),l("items",e.items)("isHidden",e.isHidden)("onSelectItem",e.onSelectItem)("filterListener",e.searchTerm$)}}var oe=(()=>{class i{constructor(){this.value=null,this.isDisabled=!1,this.isHidden=!0,this.cdr=C(F),this.searchTerm$=new R,this.withFilter=!1,this.onItemSelected=new R,this.isToggle=!1,this.searchInput="Select",this.searchText="1",this.onSelectItem=e=>{this.searchInput=e.name,this.changeValue(e.id),this.updateToggle()}}writeValue(e){this.value=e,this.searchInput=this.items.find(t=>t.id==e)?.name||"Select item",this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}changeValue(e){this.value=e,this.searchInput=this.items.find(t=>t.id==e)?.name||"Select item",this.onItemSelected.next(e),this.onTouched?.(),this.onChange?.(e)}ngOnInit(){}ngAfterViewInit(){}searchTerm(e){e.target.value&&this.searchTerm$.next(e.target.value)}updateToggle(){let e=this.isHidden;this.isToggle=!this.isToggle,this.isHidden=!e,this.cdr.detectChanges()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=m({type:i,selectors:[["app-select"]],inputs:{items:"items",withFilter:"withFilter"},outputs:{onItemSelected:"onItemSelected"},standalone:!0,features:[X([{provide:Z,useExisting:H(()=>i),multi:!0}]),c],decls:6,vars:4,consts:[[1,"flex","flex-col","relative"],[1,"flex","items-start","hover:bg-card","p-2","border-muted","rounded-md","relative",3,"click","ngClass"],[1,"text-sm","text-foreground"],["src","assets/icons/heroicons/outline/bars-arrow-down.svg",3,"svgClass"],[4,"ngIf"],[1,"content"],[3,"items","isHidden","onSelectItem","filterListener"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"div",1),D("click",function(){return n.updateToggle()}),d(2,"span",2),g(3),s(),h(4,"svg-icon",3),s(),u(5,ue,3,4,"ng-container",4),s()),t&2&&(a(),l("ngClass",n.isHidden?"border  ":" border-2 border-primary "),a(2),I(n.searchInput),a(),l("svgClass","h-6 w-6 absolute right-2 text-foreground"),a(),l("ngIf",n.isToggle))},dependencies:[p,S,j,ne,b,Y],encapsulation:2})}}return i})();var mt=(()=>{class i{constructor(){this.validators=[]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=m({type:i,selectors:[["app-input-select"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"items","formControl"]],template:function(t,n){t&1&&h(0,"app-select",0),t&2&&l("items",n.data.items)("formControl",n.formControl)},dependencies:[p,oe,q,B,O,b],encapsulation:2})}}return i})();var re={production:!0,api_url:"https://8a6b-179-60-117-159.ngrok-free.app/graphql"};var x=class{constructor(){this.query=""}static fetchQuery(r,e){return M(this,null,function*(){let n=yield(yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r})})).json();if(n.errors)throw new Error(`GraphQL Error: ${JSON.stringify(n.errors)}`);return n.data})}setRootType(r){return this.query+=`${r} {
`,this}addFieldWithArgs(r,e){let t=o=>typeof o=="string"?`"${o}"`:typeof o=="object"&&!Array.isArray(o)?`{ ${Object.entries(o).map(([f,v])=>`${f}: ${t(v)}`).join(", ")} }`:`${o}`,n=Object.entries(e).map(([o,f])=>`${o}: ${t(f)}`).join(", ");return this.query+=`  ${r}(${n}) {
`,this}addFunctionWithArgs(r,e){let t=o=>typeof o=="string"?`${o}`:typeof o=="object"&&!Array.isArray(o)?`{ ${Object.entries(o).map(([f,v])=>`${f}: ${t(v)}`).join(", ")} }`:`${o}`,n=Object.entries(e).map(([o,f])=>`${o}: ${t(f)}`).join(", ");return this.query+=`  ${r}(${n}) {
`,this}openBlock(r){return this.query+=`    ${r} {
`,this}addField(r){return this.query+=`      ${r}
`,this}closeBlock(){return this.query+=`    }
`,this}close(){return this.query+=`}
`,this}build(){return this.query}addFieldsFromParams(r){for(let[e,t]of Object.entries(r))t===!0&&this.addField(e);return this}addDeleteMutation(r,e){let t=Object.entries(e).map(([n,o])=>`${n}: "${o}"`).join(", ");return this.query+=`  ${r}(${t})
}
`,this}addMutation(r,e,t){return this.setRootType("mutation").addFieldWithArgs(r,e),t.forEach(n=>this.addField(n)),this.close(),this}};var Ct=(()=>{class i{constructor(){this.graphqlEndpoint=re.api_url}loadDoctorsSpecialtiesConsultingRooms(){return M(this,null,function*(){try{let t=new x().setRootType("query").openBlock("doctors").addField("id").openBlock("user").addField("id").addField("fullName").closeBlock().closeBlock().openBlock("specialities").addField("id").addField("name").closeBlock().openBlock("consultingRooms").addField("id").addField("roomName").closeBlock().close().build(),{errors:n,doctors:o,specialities:f,consultingRooms:v}=yield x.fetchQuery(t,this.graphqlEndpoint);return n?{isSuccess:!1,error:n[0].message}:{isSuccess:!0,value:{doctors:o,specialties:f,consultingRooms:v}}}catch(e){return{isSuccess:!1,error:e.message}}})}loadDoctorsSchedulesPatients(){return M(this,null,function*(){try{let t=new x().setRootType("query").openBlock("doctors").addField("id").openBlock("user").addField("id").addField("fullName").closeBlock().closeBlock().openBlock("specialities").addField("id").addField("name").closeBlock().openBlock("patients").addField("id").openBlock("user").addField("fullName").closeBlock().closeBlock().close().build(),{errors:n,doctors:o,specialities:f,patients:v}=yield x.fetchQuery(t,this.graphqlEndpoint);return n?{isSuccess:!1,error:n[0].message}:{isSuccess:!0,value:{doctors:o,specialties:f,patients:v}}}catch(e){return{isSuccess:!1,error:e.message}}})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{ge as a,De as b,Ne as c,re as d,x as e,Ae as f,mt as g,Ct as h};
